name: "ê³¼ì œ ì œì¶œìš© ì´ìŠˆ ìë™í™”"

on:
   workflow_dispatch:
    inputs:
      session_info:
        description: 'ì„¸ì…˜ ì •ë³´ (ì˜ˆ: ì‹¬í™”ì„¸ì…˜ 8ì°¨ì‹œ ì‹œê³„ì—´ â‘¡)'
        required: true
        default: '00ì„¸ì…˜ 0ì°¨ì‹œ ê³¼ì œ'

jobs:
  create_issues:
    runs-on: ubuntu-latest
    steps:
      - name: "ì´ìŠˆ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰"
        env:
          GH_TOKEN: ${{ github.token }}
        run: |
          # 1. í•™íšŒì› ëª…ë‹¨
          members=("í™ê¸¸ë™" "ê¹€ì² ìˆ˜" "ì´ì˜í¬" "ë°•ë¯¼ìˆ˜")

          # 2. ì´ìŠˆ ë³¸ë¬¸ ë‚´ìš©
          issue_body=$(cat <<EOF
          ### ğŸ” ê³¼ì œ
          - [ ] assignment_{ì£¼ì œ}.ipynb íŒŒì¼ ê³¼ì œ ìˆ˜í–‰

          ### ğŸ” ì‚¬ì „ê³¼ì œ ìš”êµ¬ì‚¬í•­
          - [ ] 
          - [ ] 

          ### âœ… ê³¼ì œ ì œì¶œ í™•ì¸ ì‚¬í•­
          - [ ] ë³¸ì¸ì˜ ì´ë²ˆ ì„¸ì…˜ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•˜ê³  add, commit, push í–ˆë‚˜ìš”?
          EOF
          )

          # 3. ì´ìŠˆ ìë™ ìƒì„±
          for member in "${members[@]}"
          do
            gh issue create \
              --title "[submit] ${{ github.event.inputs.session_info }}: ${member}" \
              --body "$issue_body" \
              --label "submit"
          done